# NBEmail 多域名SMTP配置示例
# 复制此文件为 .env 并修改相应配置

# Web服务配置
WEB_PORT=8080
SMTP_PORT=25
DB_PATH=nbemail.db
DOMAIN=localhost

# 管理员配置
ADMIN_EMAIL=admin@localhost
ADMIN_PASS=admin123
JWT_SECRET=nbemail-secret-key-2024

# ===== 多域名SMTP配置 =====
# 支持为不同域名配置不同的SMTP服务器
# 这样可以实现：用什么域名的邮箱发件，就用对应域名的SMTP服务器

# 域名1：example.com 的SMTP配置
# 格式：DOMAIN_SMTP_<域名>=host:port:user:password:tls
# 注意：域名中的点(.)要替换为下划线(_)
DOMAIN_SMTP_EXAMPLE_COM=mail.example.com:587:smtp@example.com:your-password:true

# 域名2：company.com 的SMTP配置
DOMAIN_SMTP_COMPANY_COM=smtp.company.com:465:noreply@company.com:company-password:true

# 域名3：mysite.org 的SMTP配置
DOMAIN_SMTP_MYSITE_ORG=mail.mysite.org:587:sender@mysite.org:mysite-password:true

# ===== 默认SMTP配置（向后兼容） =====
# 如果发件人邮箱的域名没有专门配置，将使用此默认配置
OUTBOUND_SMTP_HOST=mail.yourdomain.com
OUTBOUND_SMTP_PORT=587
OUTBOUND_SMTP_USER=default@yourdomain.com
OUTBOUND_SMTP_PASSWORD=default-password
OUTBOUND_SMTP_TLS=true

# ===== 配置说明 =====
# 1. 域名SMTP配置格式：
#    DOMAIN_SMTP_<域名>=<主机>:<端口>:<用户名>:<密码>:<是否启用TLS>
#    
# 2. 域名转换规则：
#    - 将域名中的点(.)替换为下划线(_)
#    - 全部转换为大写
#    - 例如：example.com -> EXAMPLE_COM
#
# 3. TLS设置：
#    - true: 启用TLS加密（推荐）
#    - false: 不使用TLS（仅限内网环境）
#
# 4. 工作原理：
#    - 发件人是 user@example.com -> 使用 DOMAIN_SMTP_EXAMPLE_COM 配置
#    - 发件人是 admin@company.com -> 使用 DOMAIN_SMTP_COMPANY_COM 配置
#    - 发件人是 test@unknown.com -> 使用默认SMTP配置
#
# 5. 常见SMTP服务器配置：
#    - Gmail: smtp.gmail.com:587 (需要应用专用密码)
#    - Outlook: smtp-mail.outlook.com:587
#    - QQ邮箱: smtp.qq.com:587 (需要授权码)
#    - 163邮箱: smtp.163.com:587 (需要授权码)
#    - 阿里云邮箱: smtp.mxhichina.com:587
#    - 腾讯企业邮箱: smtp.exmail.qq.com:587

# ===== 使用示例 =====
# 假设您有以下域名邮箱：
# - sales@example.com (销售邮箱)
# - support@company.com (客服邮箱)  
# - info@mysite.org (信息邮箱)
#
# 配置后的效果：
# 1. 用 sales@example.com 发邮件 -> 通过 mail.example.com 服务器发送
# 2. 用 support@company.com 发邮件 -> 通过 smtp.company.com 服务器发送
# 3. 用 info@mysite.org 发邮件 -> 通过 mail.mysite.org 服务器发送
# 4. 用其他邮箱发邮件 -> 通过默认SMTP服务器发送

# ===== 安全建议 =====
# 1. 使用应用专用密码而不是账户密码
# 2. 启用TLS加密保护邮件传输
# 3. 定期更换SMTP密码
# 4. 限制SMTP账户的发送权限
# 5. 监控邮件发送日志

# ===== 故障排除 =====
# 如果邮件发送失败，请检查：
# 1. SMTP服务器地址和端口是否正确
# 2. 用户名和密码是否正确
# 3. 是否启用了双因素认证（需要应用专用密码）
# 4. 防火墙是否阻止了SMTP端口
# 5. 查看系统日志获取详细错误信息
